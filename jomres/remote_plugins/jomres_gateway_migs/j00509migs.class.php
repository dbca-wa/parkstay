<?php/** * @version		$Id: osdcs $ * @package		migs * @copyright	Copyright (C) 2005 - 2010 osdcs.com. All rights reserved. *              see COPYRIGHT.php * @license		GNU/GPL, see LICENSE.php * Joomla! is free software. This version may have been modified pursuant * to the GNU General Public License, and as distributed it includes or * is derivative of works licensed under the GNU General Public License or * other free or open source software licenses. */if (defined('JPATH_BASE'))	defined('_JEXEC') or die('Direct Access to this location is not allowed.');else	defined( '_VALID_MOS') or die('Direct Access to this location is not allowed.');class j00509migs{	function j00509migs($componentArgs)	{		if (!function_exists('jomres_getSingleton'))			global $MiniComponents;		else			$MiniComponents = jomres_getSingleton('mcHandler');		if ($MiniComponents->template_touch) {			$this->template_touchable = false;			return;		}		global $eLiveSite, $jomresConfig_live_site, $mosConfig_absolute_path, $mosConfig_lang, $jomresConfig_absolute_path;		$plugin = "migs";		$jomresConfig_live_site = $componentArgs['jomresConfig_live_site'];		$Itemid = $componentArgs['Itemid'];		$defaultProperty = getDefaultProperty();		$query = "SELECT value FROM #__jomres_pluginsettings WHERE prid LIKE '$defaultProperty' AND plugin LIKE '$plugin' AND setting LIKE 'active' AND value LIKE '1'";		$activeList = doSelectSql($query);		if (count($activeList) > 0)			$active = jr_gettext('_JOMRES_COM_MR_YES', _JOMRES_COM_MR_YES);		else			$active=jr_gettext('_JOMRES_COM_MR_NO', _JOMRES_COM_MR_NO);		$status = 'status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=750,height=500,directories=no,location=no';		$link = $jomresConfig_live_site . "/index.php?option=com_jomres&task=editGateway&Itemid=$Itemid&popup=1&plugin=$plugin&no_html=1";		$gatewayname = jr_gettext('OSDCS_it_NAME', ucwords($plugin), true, true);		$pluginLink = "<a href=\"javascript:void window.open('" . $link . "', 'win2', '" . $status . "');\" title=\"" . $plugin . "\">" . $gatewayname . "</a>";		$button = "<IMG SRC=\"" . $eLiveSite . "/j00510" . $plugin . ".gif" . "\" border=\"0\">";		$this->outputArray = array('button' => $button, 'link' => $pluginLink, 'active' => $active);	}	function touch_template_language()	{		$plugin = "migs";		echo jr_gettext('_JOMRES_CUSTOMTEXT_GATEWAYNAME' . $plugin, ucwords($plugin));	}	// This must be included in every Event/Mini-component	function getRetVals()	{		return $this->outputArray;	}}?>